<div class="drawer-overlay" [class.active]="isOpen" (click)="toggleCart()"></div>

<div class="drawer" [class.open]="isOpen">
  <div class="drawer-header">
    <h2 class="drawer-title">Your Cart</h2>
    <button class="close-btn" (click)="toggleCart()">âœ•</button>
  </div>
  <div class="drawer-content">
    <div *ngFor="let item of items; trackBy: trackByCartItem" class="item-row">
      <img [src]="item.image" />
      <div style="flex:1;">
        <h3>{{ item.name }}</h3>
        <span class="unit-price">{{ item.price | currency:'USD':'symbol':'1.2-2' }}</span>
        <p class="price-line">{{ (item.price * item.quantity) | currency:'USD':'symbol':'1.2-2' }}</p>
        <button class="remove-link" (click)="removeItem(item.id)">Remove</button>
      </div>
      <div class="item-right">
        <div class="qty-display">
          <button class="qty-btn" (click)="decrement(item.id)">-</button>
          <span>{{ item.quantity }}</span>
          <button class="qty-btn" (click)="increment(item.id)">+</button>
        </div>
      </div>
    </div>
    <div *ngIf="items.length === 0" style="text-align:center;color:#666;padding:24px 0;">
      No items found.
    </div>
  </div>
  <div class="drawer-footer">
    <div class="subtotal-row">
      <span>Subtotal</span>
      <strong>{{ subtotal | currency:'USD':'symbol':'1.2-2' }}</strong>
    </div>
    <button class="checkout-btn" (click)="checkout()">Continue To Checkout</button>
  </div>
</div>
